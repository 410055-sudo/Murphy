<html>
<head>
<title>翻牌記憶遊戲</title>
    <style>
        #board{
            display: grid;
            grid: repeat(3,90px) / repeat(4,90px);
        }
        .card{
            width:80px;           
        }       
    </style>
    <script>
        function pickCard(){

           var card=event.target;
           if(p1<0){
            p1=card.num;
            card.src=`pic/${p1.num}.png`;

           }
           else if(p2<0){
            p2=card;
            card.src=`pic/${card.num}.png`;          
           p2=card;
           p2.card.src=`pic/${p2.num}.png`;

           if(p1.num == p2.num){
             pairs++;
             if(pairs<6){
                p1=-1;p2=-1;
                else {
                    alert("結束");
                }

             }else if{
            p1.src=`pic/Q.png`;
            p2.src=`pic/Q.png`;
            p1=-1; p2=-1;
           },1000);
           }
        }
            if(p1.num == p2.num){
             
            p1.src=`pic/Q.png`;
            p2.src=`pic/Q.png`;
            p1=-1; p2=-1;
           
           }
          





        }


         function gameStart(){
            p1=-1; p2=-1;

            var cards=[1,1,2,2,3,3,4,4,5,5,6,6];
            cards.sort(()=>{return Math.random()-0.5;});            

            var board=document.getElementById("board");
            Array.form(board.children).forEach((a)=>{board.removeChild(a);});
            cards.forEach((n)=>{
               var a=document.createElement9("img");
               a.className="card";
               a.src=`pic/${n}.png`;
               a.num=n;
               a.addEventListener("click",pickCard);
               board.appendChild(a);                
            }); 
            setTimeout(()=>{
                Array.form(document.getElementsByClassName("card")).forEach((a)=>{
                    a.src="pic/Q.png";
                });
            },3000);        
         }
    </script>
</head>
<body>
     <div id="board">
         <img class="card" src="pic/Q.png"></div>
     <bottom onclick="gameStart();">遊戲開始</bottom>
</body>
</html>